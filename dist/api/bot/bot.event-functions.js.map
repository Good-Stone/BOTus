{"version":3,"sources":["../../../src/api/bot/bot.event-functions.js"],"names":["onReady","onReceivedMessage","log","require","setInterval","currentTime","Date","toLocaleTimeString","split","hour","parseInt","minute","second","channels","forEach","channel","type","send","message","COMMAND","params","teams"],"mappings":";;;;;QAkBgBA,O,GAAAA,O;QAkCAC,iB,GAAAA,iB;;AApDhB;;;;AACA;;AASA;;;;AAMA,IAAMC,MAAMC,QAAQ,OAAR,EAAiB,qBAAjB,CAAZ;;AAEO,SAASH,OAAT,GAAmB;AACxBE;;AAEA;AACAE,cAAY,YAAM;AAChB,QAAMC,cAAc,IAAIC,IAAJ,GAAWC,kBAAX,GAAgCC,KAAhC,CAAsC,GAAtC,CAApB;AACA,QAAMC,OAAOC,SAASL,YAAY,CAAZ,CAAT,EAAyB,EAAzB,CAAb;AACA,QAAMM,SAASD,SAASL,YAAY,CAAZ,CAAT,EAAyB,EAAzB,CAAf;AACA,QAAMO,SAASF,SAASL,YAAY,CAAZ,CAAT,EAAyB,EAAzB,CAAf;AACAH,QAAIO,IAAJ,EAAUE,MAAV,EAAkBC,MAAlB;;AAEA;AACA,QAAIH,SAAS,CAAT,IAAcE,WAAW,CAAzB,IAA8BC,WAAW,CAA7C,EAAgD;AAC9C,oBAAMC,QAAN,CAAeC,OAAf,CAAuB,UAACC,OAAD,EAAa;AAClC,YAAIA,QAAQC,IAAR,KAAiB,MAArB,EAA6B;AAC3BD,kBAAQE,IAAR;AACD;AACF,OAJD;AAKD,KAND,MAMO,IAAIR,SAAS,EAAT,IAAeE,WAAW,CAA1B,IAA+BC,WAAW,CAA9C,EAAiD;AACtD,oBAAMC,QAAN,CAAeC,OAAf,CAAuB,UAACC,OAAD,EAAa;AAClC,YAAIA,QAAQC,IAAR,KAAiB,MAArB,EAA6B;AAC3BD,kBAAQE,IAAR;AACD;AACF,OAJD;AAKD,KANM,MAMA,IAAIR,SAAS,EAAT,IAAeE,WAAW,CAA1B,IAA+BC,WAAW,CAA9C,EAAiD;AACtD,oBAAMC,QAAN,CAAeC,OAAf,CAAuB,UAACC,OAAD,EAAa;AAClC,YAAIA,QAAQC,IAAR,KAAiB,MAArB,EAA6B;AAC3BD,kBAAQE,IAAR;AACD;AACF,OAJD;AAKD;AACF,GA3BD,EA2BG,IA3BH;AA4BD;;AAEM,SAAShB,iBAAT,CAA2BiB,OAA3B,EAAoC;AAAA,sBACb,wBAAaA,OAAb,CADa;AAAA,MACjCC,OADiC,iBACjCA,OADiC;AAAA,MACxBC,MADwB,iBACxBA,MADwB;;AAGzClB,MAAI,wBAAagB,OAAb,CAAJ;AACA,UAAQC,OAAR;AACE;AACE;AACE,YAAME,QAAQ,qBAAUD,MAAV,CAAd;;AAEAF,gBAAQH,OAAR,CAAgBE,IAAhB,0BAA4CI,MAAM,CAAN,CAA5C,2BAA0EA,MAAM,CAAN,CAA1E;AACA;AACD;AACH;AACE;AACE,iCAAcH,QAAQH,OAAtB;AACA;AACD;AACH;AACE;AACEb,YAAI,MAAJ;AACD;AAhBL;AAkBD","file":"bot.event-functions.js","sourcesContent":["import Botus from './bot.class';\nimport {\n  WELCOME_MESSAGE,\n  COMMAND_RANDOMIZE,\n  COMMAND_GIFFME,\n  IMAGES,\n  GREETING_MORNING,\n  GREETING_NOON,\n  GREETING_EVENING,\n} from './bot.constants';\nimport {\n  randomize,\n  parseMessage,\n  getRandomMeme,\n} from './bot.utils';\n\nconst log = require('debug')('bot.event-functions');\n\nexport function onReady() {\n  log(`${WELCOME_MESSAGE} Nigga im alive`);\n\n  // Loop for checking the current time\n  setInterval(() => {\n    const currentTime = new Date().toLocaleTimeString().split(':');\n    const hour = parseInt(currentTime[0], 10);\n    const minute = parseInt(currentTime[1], 10);\n    const second = parseInt(currentTime[2], 10);\n    log(hour, minute, second);\n\n    // Morning, Noon, and Evening greeting\n    if (hour === 7 && minute === 0 && second === 0) {\n      Botus.channels.forEach((channel) => {\n        if (channel.type === 'text') {\n          channel.send(GREETING_MORNING);\n        }\n      });\n    } else if (hour === 12 && minute === 0 && second === 0) {\n      Botus.channels.forEach((channel) => {\n        if (channel.type === 'text') {\n          channel.send(GREETING_NOON);\n        }\n      });\n    } else if (hour === 19 && minute === 0 && second === 0) {\n      Botus.channels.forEach((channel) => {\n        if (channel.type === 'text') {\n          channel.send(GREETING_EVENING);\n        }\n      });\n    }\n  }, 1000);\n}\n\nexport function onReceivedMessage(message) {\n  const { COMMAND, params } = parseMessage(message);\n\n  log(parseMessage(message));\n  switch (COMMAND) {\n    case COMMAND_RANDOMIZE:\n      {\n        const teams = randomize(params);\n\n        message.channel.send(`mga bobong radiant: ${teams[0]}\\nmga bobong dire: ${teams[1]}`);\n        break;\n      }\n    case COMMAND_GIFFME:\n      {\n        getRandomMeme(message.channel, IMAGES);\n        break;\n      }\n    default:\n      {\n        log('Wat?');\n      }\n  }\n}\n"]}