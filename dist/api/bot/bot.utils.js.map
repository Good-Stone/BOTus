{"version":3,"sources":["../../../src/api/bot/bot.utils.js"],"names":["error","parseMessage","getRandomizedTeams","getRandomMeme","getTime","log","require","channel","message","send","sample","content","startsWith","split","COMMAND","replace","params","slice","players","length","randomized","chunk","shuffle","images","imageUrl","file","timezone","currentTime","tz","format"],"mappings":";;;;;QASgBA,K,GAAAA,K;QAKAC,Y,GAAAA,Y;QAkBAC,kB,GAAAA,kB;QASAC,a,GAAAA,a;QAQAC,O,GAAAA,O;;AAjDhB;;;;AACA;;;;AACA;;;;AAKA,IAAMC,MAAMC,QAAQ,OAAR,EAAiB,WAAjB,CAAZ;;AAEO,SAASN,KAAT,CAAeO,OAAf,EAAwBC,OAAxB,EAAiC;AACtCD,UAAQE,IAAR,CAAgB,iBAAEC,MAAF,qBAAhB,WAA8CF,OAA9C;AACAH,MAAIG,OAAJ;AACD;;AAEM,SAASP,YAAT,CAAsBO,OAAtB,EAA+B;AACpCH,mBAAeG,OAAf;;AAEA,MAAIG,UAAUH,QAAQG,OAAtB;;AAEA,MAAIA,QAAQC,UAAR,aAAJ,EAAgC;AAC9BD,cAAUA,QAAQE,KAAR,CAAc,GAAd,CAAV;AACA,QAAMC,UAAUH,QAAQ,CAAR,EAAWI,OAAX,cAA2B,EAA3B,CAAhB;AACA,QAAMC,SAASL,QAAQM,KAAR,CAAc,CAAd,CAAf;;AAEAZ,sBAAgBS,OAAhB,kBAAoCE,MAApC;;AAEA,WAAO,EAAEF,gBAAF,EAAWE,cAAX,EAAP;AACD;;AAED,SAAO,EAAEA,QAAQL,OAAV,EAAP;AACD;;AAEM,SAAST,kBAAT,CAA4BK,OAA5B,EAAqCW,OAArC,EAA8C;AACnD,MAAIA,QAAQC,MAAR,KAAmB,EAAvB,EAA2B,OAAOnB,MAAMO,OAAN,EAAe,2BAAf,CAAP;;AAE3B,MAAMa,aAAa,iBAAEC,KAAF,CAAQ,iBAAEC,OAAF,CAAUJ,OAAV,CAAR,EAA4B,CAA5B,CAAnB;AACAb,uBAAmBe,UAAnB;;AAEA,SAAOb,QAAQE,IAAR,eAAyBW,WAAW,CAAX,CAAzB,gBAAiDA,WAAW,CAAX,CAAjD,CAAP;AACD;;AAEM,SAASjB,aAAT,CAAuBI,OAAvB,EAAgCgB,MAAhC,EAAwC;AAC7C,MAAMC,WAAW,iBAAEd,MAAF,CAASa,MAAT,CAAjB;AACAlB,MAAImB,QAAJ;AACAjB,UAAQE,IAAR,CAAa,EAAb,EAAiB;AACfgB,UAAMD;AADS,GAAjB;AAGD;;AAEM,SAASpB,OAAT,CAAiBG,OAAjB,EAA0BmB,QAA1B,EAAoC;AACzC,MAAIA,SAASP,MAAT,GAAkB,CAAtB,EAAyB,OAAOnB,MAAMO,OAAN,EAAe,kCAAf,CAAP;;AAEzB,MAAMoB,cAAc,yBAAOC,EAAP,CAAUF,SAAS,CAAT,CAAV,CAApB;AACA,SAAOnB,QAAQE,IAAR,sBAAgCiB,QAAhC,UAA6CC,YAAYE,MAAZ,CAAmB,WAAnB,CAA7C,CAAP;AACD","file":"bot.utils.js","sourcesContent":["import _ from 'lodash';\nimport moment from 'moment-timezone';\nimport {\n  PREFIX,\n  ERROR_MESSAGES,\n} from './bot.constants';\n\nconst log = require('debug')('bot.utils');\n\nexport function error(channel, message) {\n  channel.send(`${_.sample(ERROR_MESSAGES)}\\n*${message}*`);\n  log(message);\n}\n\nexport function parseMessage(message) {\n  log(`Parsing ${message}`);\n\n  let content = message.content;\n\n  if (content.startsWith(PREFIX)) {\n    content = content.split(' ');\n    const COMMAND = content[0].replace(PREFIX, '');\n    const params = content.slice(1);\n\n    log(`command: ${COMMAND}, params: ${params}`);\n\n    return { COMMAND, params };\n  }\n\n  return { params: content };\n}\n\nexport function getRandomizedTeams(channel, players) {\n  if (players.length !== 10) return error(channel, 'Invalid number of players');\n\n  const randomized = _.chunk(_.shuffle(players), 5);\n  log(`randomized: ${randomized}`);\n\n  return channel.send(`radiant: ${randomized[0]}\\ndire: ${randomized[1]}`);\n}\n\nexport function getRandomMeme(channel, images) {\n  const imageUrl = _.sample(images);\n  log(imageUrl);\n  channel.send('', {\n    file: imageUrl,\n  });\n}\n\nexport function getTime(channel, timezone) {\n  if (timezone.length > 1) return error(channel, 'Please specify only one timezone');\n\n  const currentTime = moment.tz(timezone[0]);\n  return channel.send(`Current time in ${timezone}: ${currentTime.format('h:mm:ss a')}`);\n}\n"]}